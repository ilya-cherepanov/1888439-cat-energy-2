(()=>{var i={MOBILE:320,TABLET:768,DESKTOP:1440};function h(t,e){let n=null;return(...u)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...u),n=null},e)}}var s=class t{static State={OPENED:"page-navigation--menu-opened",CLOSED:"page-navigation--menu-closed",NO_JS:"page-navigation--no-js"};menuEl=null;burgerButtonEl=null;isOpened=null;constructor(){if(this.menuEl=document.querySelector(".page-navigation"),!this.menuEl)throw new Error("Couldn't find .page-navigation element!");if(this.burgerButtonEl=this.menuEl.querySelector(".page-navigation__burger"),!this.burgerButtonEl)throw new Error("Couldn't find .page-navigation__burger element!");this.isOpened=this.menuEl.classList.contains(t.State.OPENED)}handleEvents(){this.menuEl.classList.remove(t.State.NO_JS),this.burgerButtonEl.addEventListener("click",this.onBurgerClickHandle)}onBurgerClickHandle=()=>{this.isOpened?this.menuEl.classList.replace(t.State.OPENED,t.State.CLOSED):this.menuEl.classList.replace(t.State.CLOSED,t.State.OPENED),this.isOpened=!this.isOpened}},r=class t{static PIN_COORDS=[30.323097575388093,59.93884713117348];static Position={MOBILE:{center:[30.323054660050616,59.93910413687607],zoom:14},TABLET:{center:[30.323058130502318,59.93952877326669],zoom:14.69},DESKTOP:{center:[30.320082212218722,59.939077437002226],zoom:15.78}};constructor(){let e=window.innerWidth,n=this.selectPosition(e);this.map=new window.maplibregl.Map({style:"https://tiles.openfreemap.org/styles/bright",container:"map",...n}),this.marker=this.createPinMarker(),this.marker.setLngLat(t.PIN_COORDS),this.marker.addTo(this.map)}createPinMarker(){let e=document.createElement("div");return e.classList.add("contacts__map-pin"),new window.maplibregl.Marker({element:e})}selectPosition(e){return e<i.TABLET?t.Position.MOBILE:e>=i.TABLET&&e<i.DESKTOP?t.Position.TABLET:t.Position.DESKTOP}},o=class t{static DEFAULT_KEY_DOWN_INCREMENT=5;static DEFAULT_SLIDER_STATE=50;keyDownIncrement=t.DEFAULT_KEY_DOWN_INCREMENT;_thumbElement=null;_sliderElement=null;_sliderX=0;_percentOfSliderWidth=0;_currentState=0;_rafId=null;constructor(e){this._sliderElement=e,this.currentState=t.DEFAULT_SLIDER_STATE;let n=this._sliderElement.querySelector(".slider__thumb");if(!n)throw new Error("Couldn't find .slider__thumb element!");this._thumbElement=n}get currentState(){return this._currentState}set currentState(e){this._currentState=Math.max(0,Math.min(e,100)),this._rafId===null&&(this._rafId=requestAnimationFrame(()=>{this._sliderElement.style.setProperty("--slider-state",this._currentState+"%"),this._rafId=null}))}handleEvents(){window.addEventListener("resize",this.onWindowResize),this.setSliderDimensions(),this._thumbElement.addEventListener("pointerdown",this.onThumbDown),this._thumbElement.addEventListener("ondragstart",()=>!1),this._thumbElement.addEventListener("focus",this.onThumbFocus)}setSliderDimensions=()=>{let e=this._sliderElement.getBoundingClientRect();this._sliderX=e.x,this._percentOfSliderWidth=e.width/100};onThumbDown=e=>{e.preventDefault(),this._thumbElement.setPointerCapture(e.pointerId),this._thumbElement.addEventListener("pointerup",this.onThumbUp),this._thumbElement.addEventListener("pointermove",this.onThumbMove)};onThumbUp=()=>{this._thumbElement.removeEventListener("pointermove",this.onThumbMove),this._thumbElement.removeEventListener("pointerup",this.onThumbUp)};onThumbMove=e=>{this.currentState=(e.clientX-this._sliderX)/this._percentOfSliderWidth};onThumbFocus=e=>{e.preventDefault(),document.addEventListener("keydown",this.onKeyDown),this._thumbElement.addEventListener("blur",this.onThumbBlur)};onThumbBlur=()=>{document.removeEventListener("keydown",this.onKeyDown),this._thumbElement.removeEventListener("blur",this.onThumbBlur)};onKeyDown=e=>{e.code==="ArrowLeft"?this.currentState-=this.keyDownIncrement:e.code==="ArrowRight"&&(this.currentState+=this.keyDownIncrement)};onWindowResize=h(this.setSliderDimensions,100)},a=new s;a.handleEvents();new r;var l=document.querySelector(".slider");l&&new o(l).handleEvents();})();
